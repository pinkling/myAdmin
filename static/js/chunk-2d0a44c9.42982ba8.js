(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a44c9"],{"069f":function(t,e,n){"use strict";var i=n("1300"),o=n("5eee"),r=n("e269"),s=n("256f"),a=n("313e"),h=n.n(a),p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},p(t,e)};function c(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},d=function(t,e){return Object.keys(e).forEach((function(n){u(e[n])&&u(t[n])?d(t[n],e[n]):t[n]=e[n]})),t},l=function(t,e){for(var n=arguments,i=[],o=2;o<arguments.length;o++)i[o-2]=n[o];return function(){for(var n=arguments,o=[],r=0;r<arguments.length;r++)o[r]=n[r];return t.apply(e,i.concat(Array.prototype.slice.call(o)))}},f=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(t[i].index===e.index){n=i;break}return void 0===n?t.push(e):t[n]=e,t},y=function(){function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}return t()};function g(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function m(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,button:e.pointerEvent.button,buttons:e.pointerEvent.buttons,clientX:e.pointerEvent.clientX,clientY:e.pointerEvent.clientY,zrX:e.pointerEvent.offsetX,zrY:e.pointerEvent.offsetY,movementX:e.pointerEvent.movementX,movementY:e.pointerEvent.movementY,relatedTarget:e.pointerEvent.relatedTarget,screenX:e.pointerEvent.screenX,screenY:e.pointerEvent.screenY,view:window});return n.zrX=e.pointerEvent.offsetX,n.zrY=e.pointerEvent.offsetY,n.event=n,n}function w(t,e){for(var n=t.split("."),i=e.split("."),o=0;o<3;o++){var r=Number(n[o]),s=Number(i[o]);if(r>s)return 1;if(s>r)return-1;if(!isNaN(r)&&isNaN(s))return 1;if(isNaN(r)&&!isNaN(s))return-1}return 0}var E=function(t){return!t.UTF8Encoding},$=function(t,e,n){for(var i=[],o=[e[0],e[1]],r=o[0],s=o[1],a=0;a<t.length;a+=2){var h=t.charCodeAt(a)-64,p=t.charCodeAt(a+1)-64;h=h>>1^-(1&h),p=p>>1^-(1&p),h+=r,p+=s,r=h,s=p,i.push([h/n,p/n])}return i},_=function(t){if(E(t))return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var o=n[i],r=o.geometry,s=[r.coordinates,r.encodeOffsets],a=s[0],h=s[1],p=0;p<a.length;p++){var c=a[p];if("Polygon"===r.type)a[p]=$(c,h[p],e);else if("MultiPolygon"===r.type)for(var u=0;u<c.length;u++){var d=c[u];c[u]=$(d,h[p][u],e)}}return t.UTF8Encoding=!1,t};function b(t){var e=_(t),n=h.a.util.map(h.a.util.filter(e.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var e=t.properties,n=t.geometry,i=n.coordinates,o=[];return"Polygon"===n.type&&o.push(i[0]),"MultiPolygon"===n.type&&h.a.util.each(i,(function(t){t[0]&&o.push(t[0])})),{properties:e,type:"Feature",geometry:{type:"Polygon",coordinates:o}}}));return{type:"FeatureCollection",crs:{},features:n}}var O=function(t,e,n){return e.center=n.dataToPoint(e.coordinates),e},S=function(t,e,n){return u(t.grid)&&!Array.isArray(t.grid)?console.log(t):Array.isArray(t.grid)&&(t.grid=t.grid.map((function(e,i){var o=n.dataToPoint(t.series[i].coordinates);return e.left=o[0]-parseFloat(e.width)/2,e.top=o[1]-parseFloat(e.height)/2,e}))),e},C=function(t,e,n){return u(t.grid)&&!Array.isArray(t.grid)?console.log(t):Array.isArray(t.grid)&&(t.grid=t.grid.map((function(e,i){var o=n.dataToPoint(t.series[i].coordinates);return e.left=o[0]-parseFloat(e.width)/2,e.top=o[1]-parseFloat(e.height)/2,e}))),e},M=Object.freeze({pie:O,bar:S,line:C}),R={forcedRerender:!1,forcedPrecomposeRerender:!1,hideOnZooming:!1,hideOnMoving:!1,hideOnRotating:!1,convertTypes:["pie","line","bar"],insertFirst:!1,stopEvent:!1,polyfillEvents:w(i["a"],"6.1.1")<=0},V=function(t){function e(e,n,i){var o=this,r=Object.assign(R,n);return o=t.call(this,r)||this,o._options=r,o._chartOptions=e,o.set("chartOptions",e),o.$chart=null,o.$container=void 0,o._isRegistered=!1,o._initEvent=!1,o._incremental=[],o._coordinateSystem=null,o.coordinateSystemId="",o.prevVisibleState="",g(["redraw","onResize","onZoomEnd","onCenterChange","onDragRotateEnd","onMoveStart","onMoveEnd","mouseDown","mouseUp","onClick","mouseMove"],o),i&&o.setMap(i),o}return c(e,t),e.prototype.appendTo=function(t,e){void 0===e&&(e=!1),this.setMap(t,e)},e.prototype.getMap=function(){return this._map},e.prototype.setMap=function(t,e){var n=this;if(void 0===e&&(e=!1),!t||!(e||t instanceof o["a"]))throw new Error("not ol map object");this._map=t,this._map.once("postrender",(function(){n.handleMapChanged()})),this._map.renderSync()},e.prototype.getChartOptions=function(){return this.get("chartOptions")},e.prototype.setChartOptions=function(t){return void 0===t&&(t={}),this._chartOptions=t,this.set("chartOptions",t),this.clearAndRedraw(),this},e.prototype.appendData=function(t,e){return void 0===e&&(e=!0),t&&(e&&(this._incremental=f(this._incremental,{index:this._incremental.length,data:t.data,seriesIndex:t.seriesIndex})),this.$chart.appendData({data:t.data.copyWithin(),seriesIndex:t.seriesIndex})),this},e.prototype.clear=function(t){t||(this._incremental=[]),this.$chart&&this.$chart.clear()},e.prototype.remove=function(){this.clear(),this.$chart&&this.$chart.dispose(),this._initEvent&&this.$container&&(this.$container&&v(this.$container),this.unBindEvent()),delete this.$chart,delete this._map},e.prototype.show=function(){this.setVisible(!0)},e.prototype.innerShow=function(){this.$container&&(this.$container.style.display=this.prevVisibleState,this.prevVisibleState="")},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.innerHide=function(){this.$container&&(this.prevVisibleState=this.$container.style.display,this.$container.style.display="none")},e.prototype.isVisible=function(){return this.$container&&"none"!==this.$container.style.display},e.prototype.showLoading=function(){this.$chart&&this.$chart.showLoading()},e.prototype.hideLoading=function(){this.$chart&&this.$chart.hideLoading()},e.prototype.setZIndex=function(t){this.$container&&("number"===typeof t&&(t=String(t)),this.$container.style.zIndex=t)},e.prototype.getZIndex=function(){return this.$container&&this.$container.style.zIndex},e.prototype.setVisible=function(t){t?(this.$container&&(this.$container.style.display=""),this._chartOptions=this.getChartOptions(),this.clearAndRedraw()):(this.$container&&(this.$container.style.display="none"),this.clear(!0),this._chartOptions={},this.clearAndRedraw())},e.prototype.render=function(){!this.$chart&&this.$container?(this.$chart=h.a.init(this.$container),this._chartOptions&&(this.registerMap(),this.$chart.setOption(this.convertData(this._chartOptions),!1)),this.dispatchEvent({type:"load",source:this,value:this.$chart})):this.isVisible()&&this.redraw()},e.prototype.redraw=function(){this.clearAndRedraw()},e.prototype.updateViewSize=function(t){this.$container&&(this.$container.style.width=t[0]+"px",this.$container.style.height=t[1]+"px",this.$container.setAttribute("width",String(t[0])),this.$container.setAttribute("height",String(t[1])))},e.prototype.onResize=function(t){var e=this.getMap();if(e){var n=e.getSize();this.updateViewSize(n),this.clearAndRedraw(),t&&this.dispatchEvent({type:"change:size",source:this,value:n})}},e.prototype.onZoomEnd=function(){this._options.hideOnZooming&&this.innerShow();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"zoomend",source:this,value:t.getView().getZoom()}))},e.prototype.onDragRotateEnd=function(){this._options.hideOnRotating&&this.innerShow();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"change:rotation",source:this,value:t.getView().getRotation()}))},e.prototype.onMoveStart=function(){this._options.hideOnMoving&&this.innerHide();var t=this.getMap();t&&t.getView()&&this.dispatchEvent({type:"movestart",source:this,value:t.getView().getCenter()})},e.prototype.onMoveEnd=function(){this._options.hideOnMoving&&this.innerShow();var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"moveend",source:this,value:t.getView().getCenter()}))},e.prototype.onClick=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(m("click",t))},e.prototype.mouseDown=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(m("mousedown",t))},e.prototype.mouseUp=function(t){this.$chart&&this.$chart.getZr().painter.getViewportRoot().dispatchEvent(m("mouseup",t))},e.prototype.mouseMove=function(t){if(this.$chart){var e=t.originalEvent.target;while(e){if("ol-overlaycontainer-stopevent"===e.className)return void this.$chart.getZr().painter.getViewportRoot().dispatchEvent(m("mousemove",t));e=e.parentElement}}},e.prototype.onCenterChange=function(){var t=this.getMap();t&&t.getView()&&(this.clearAndRedraw(),this.dispatchEvent({type:"change:center",source:this,value:t.getView().getCenter()}))},e.prototype.handleMapChanged=function(){var t=this.getMap();if(this._initEvent&&this.$container&&(this.$container&&v(this.$container),this.unBindEvent()),this.$container||(this.createLayerContainer(),this.onResize(!1)),t){var e=this._options.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this._options.insertFirst?e.insertBefore(this.$container,e.childNodes[0]||null):e.appendChild(this.$container),this.render(),this.bindEvent(t)}},e.prototype.createLayerContainer=function(){this.$container=document.createElement("div"),this.$container.style.position="absolute",this.$container.style.top="0px",this.$container.style.left="0px",this.$container.style.right="0px",this.$container.style.bottom="0px",this.$container.style.pointerEvents="auto"},e.prototype.bindEvent=function(t){var e=t.getView();this._options.forcedPrecomposeRerender&&t.on("precompose",this.redraw),t.on("change:size",this.onResize),e.on("change:resolution",this.onZoomEnd),e.on("change:center",this.onCenterChange),e.on("change:rotation",this.onDragRotateEnd),t.on("movestart",this.onMoveStart),t.on("moveend",this.onMoveEnd),this._options.polyfillEvents&&(t.on("pointerdown",this.mouseDown),t.on("pointerup",this.mouseUp),t.on("pointermove",this.mouseMove),t.on("click",this.onClick)),this._initEvent=!0},e.prototype.unBindEvent=function(){var t=this.getMap();if(t){var e=t.getView();e&&(t.un("precompose",this.redraw),t.un("change:size",this.onResize),e.un("change:resolution",this.onZoomEnd),e.un("change:center",this.onCenterChange),e.un("change:rotation",this.onDragRotateEnd),t.un("movestart",this.onMoveStart),t.un("moveend",this.onMoveEnd),this._options.polyfillEvents&&(t.un("pointerdown",this.mouseDown),t.un("pointerup",this.mouseUp),t.un("pointermove",this.mouseMove),t.un("click",this.onClick)),this._initEvent=!1)}},e.prototype.clearAndRedraw=function(){if(this.$chart&&this.isVisible()){if(this._options.forcedRerender&&this.$chart.clear(),this.$chart.resize(),this._chartOptions&&(this.registerMap(),this.$chart.setOption(this.convertData(this._chartOptions),!1),this._incremental&&this._incremental.length>0))for(var t=0;t<this._incremental.length;t++)this.appendData(this._incremental[t],!1);this.dispatchEvent({type:"redraw",source:this})}},e.prototype.registerMap=function(){if(this._isRegistered||(this.coordinateSystemId="openlayers_"+y(),h.a.registerCoordinateSystem(this.coordinateSystemId,this.getCoordinateSystem(this._options)),this._isRegistered=!0),this._chartOptions){var t=this._chartOptions.series;if(t&&u(t)){var e=this._options.convertTypes;if(e)for(var n=t.length-1;n>=0;n--)e.indexOf(t[n].type)>-1||(t[n].coordinateSystem=this.coordinateSystemId),t[n].animation=!1}}},e.prototype.convertData=function(t){var e=t.series;if(e&&e.length>0){if(!this._coordinateSystem){var n=this.getCoordinateSystem(this._options);this._coordinateSystem=new n(this.getMap())}if(e&&u(e)){var i=this._options.convertTypes;if(i)for(var o=e.length-1;o>=0;o--)i.indexOf(e[o].type)>-1&&e[o]&&e[o].hasOwnProperty("coordinates")&&(e[o]=M[e[o].type](t,e[o],this._coordinateSystem))}}return t},e.prototype.getCoordinateSystem=function(t){var e=this.getMap(),n=this.coordinateSystemId,i=function(t){this.map=t,this._mapOffset=[0,0],this.dimensions=["lng","lat"],this.projCode=i.getProjectionCode(this.map)};return i.dimensions=i.prototype.dimensions||["lng","lat"],i.prototype.getZoom=function(){return this.map.getView().getZoom()},i.prototype.setZoom=function(t){return this.map.getView().setZoom(t)},i.prototype.getViewRectAfterRoam=function(){return this.getViewRect().clone()},i.prototype.setMapOffset=function(t){this._mapOffset=t},i.prototype.dataToPoint=function(e){var n;if(e&&Array.isArray(e)&&e.length>0){n=e.map((function(t){var e=0;return e="string"===typeof t?Number(t):t,e}));var i=t&&t.source||"EPSG:4326",o=t&&t.destination||this.projCode,r=this.map.getPixelFromCoordinate(Object(s["o"])(n,i,o)),a=this._mapOffset;return[r[0]-a[0],r[1]-a[1]]}return[0,0]},i.prototype.pointToData=function(t){var e=this._mapOffset;return this.map.getCoordinateFromPixel([t[0]+e[0],t[1]+e[1]])},i.prototype.getViewRect=function(){var t=this.map.getSize();return new h.a.graphic.BoundingRect(0,0,t[0],t[1])},i.prototype.getRoamTransform=function(){return h.a.matrix.create()},i.prototype.prepareCustoms=function(){var t=this.getViewRect();return{coordSys:{type:n,x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:l(this.dataToPoint,this),size:l(i.dataToCoordsSize,this)}}},i.create=function(t){t.eachSeries((function(t){t.get("coordinateSystem")===n&&(t.coordinateSystem=new i(e))}))},i.getProjectionCode=function(t){var e="";return e=t?t.getView()&&t.getView().getProjection().getCode():"EPSG:3857",e},i.dataToCoordsSize=function(t,e){var n=this;return void 0===e&&(e=[0,0]),[0,1].map((function(i){var o=e[i],r=[],s=[],a=t[i]/2;r[i]=o-a,s[i]=o+a,r[1-i]=e[1-i],s[1-i]=e[1-i];var h=n.dataToPoint(r)[i]-n.dataToPoint(s)[i];return Math.abs(h)}),this)},i},e.prototype.dispatchEvent=function(e){return t.prototype.dispatchEvent.call(this,e)},e.prototype.set=function(e,n,i){return t.prototype.set.call(this,e,n,i)},e.prototype.get=function(e){return t.prototype.get.call(this,e)},e.prototype.unset=function(e,n){return t.prototype.unset.call(this,e,n)},e.prototype.on=function(e,n){return t.prototype.on.call(this,e,n)},e.prototype.un=function(e,n){return t.prototype.un.call(this,e,n)},e.formatGeoJSON=b,e.bind=l,e.merge=d,e.uuid=y,e.bindAll=g,e.arrayAdd=f,e.removeNode=v,e.isObject=u,e}(r["a"]);e["a"]=V}}]);