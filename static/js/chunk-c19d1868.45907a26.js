(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c19d1868"],{"19af":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{attrs:{id:"cesiumContainer"}}),e._v(" "),i("section",{staticStyle:{position:"absolute",left:"10px",top:"10px"}},[i("el-button",{on:{click:function(t){return e.roamPlay(!0)}}},[e._v("播放")])],1),e._v(" "),i("section",{staticStyle:{position:"absolute",left:"100px",top:"10px"}},[i("el-button",{on:{click:function(t){return e.roamPlay(!1)}}},[e._v("暂停")])],1),e._v(" "),i("section",{staticStyle:{position:"absolute",left:"190px",top:"10px"}},[i("el-button",{on:{click:e.roamClear}},[e._v("清除")])],1),e._v(" "),i("section",{staticStyle:{position:"absolute",left:"280px",top:"10px"}},[i("el-button",{on:{click:e.addRoaming}},[e._v("初始化")])],1)])},o=[],a=i("6dc8"),r=null,l=null,s=null,c={name:"Index",data:function(){return{viewer:null}},mounted:function(){this.init(),this.addModel(),this.baseColor(),this.addRoaming()},methods:{init:function(){r=new this.Cesium.Viewer("cesiumContainer",{terrainProvider:new this.Cesium.CesiumTerrainProvider({url:this.Cesium.IonResource.fromAssetId(1),requestWaterMask:!0,requestVertexNormals:!0}),geocoder:!1,homeButton:!1,timeline:!1,navigationHelpButton:!1,fullscreenButton:!1,scene3DOnly:!0,baseLayerPicker:!1,CreditsDisplay:!1,animation:!1}),r._cesiumWidget._creditContainer.style.display="none",r.scene.camera.setView({destination:this.Cesium.Cartesian3.fromDegrees(-122.3472,47.598,370),orientation:{heading:this.Cesium.Math.toRadians(10),pitch:this.Cesium.Math.toRadians(-10)}})},addModel:function(){l=this.Cesium.createOsmBuildings(),r.scene.primitives.add(l)},baseColor:function(){l.style=new this.Cesium.Cesium3DTileStyle({defines:{material:"${feature['building:material']}"},color:{conditions:[["${material} === null","color('white', 0.7)"],["${material} === 'glass'","color('skyblue', 0.7)"],["${material} === 'concrete'","color('yellow', 0.7)"],["${material} === 'brick'","color('indianred', 0.7)"],["${material} === 'stone'","color('red', 0.7)"],["${material} === 'metal'","color('blue')"],["${material} === 'steel'","color('lightsteelblue')"],["true","color('#6495ED', 0.7)"]]}})},addRoaming:function(){s&&this.roamClear(),s=new a["a"](r,{modeluri:"/myAdmin/3D/CesiumMilkTruck.glb",time:1e3,Lines:[{lng:-122.3612,lat:47.658,height:0},{lng:-122.3722,lat:47.668,height:0},{lng:-122.3832,lat:47.67,height:0},{lng:-122.3942,lat:47.677,height:0},{lng:-122.3992,lat:47.685,height:0}],isPathShow:!0})},roamPlay:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s&&s.PauseOrContinue(e)},roamClear:function(){s&&s.EndRoaming(),s=null}}},u=c,h=(i("5513"),i("2877")),m=Object(h["a"])(u,n,o,!1,null,"7b782883",null);t["default"]=m.exports},"3f52":function(e,t,i){},5513:function(e,t,i){"use strict";i("3f52")},"6dc8":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("d4ec"),o=i("bee2"),a=i("ec35"),r=function(){function e(t,i){Object(n["a"])(this,e),this.viewer=t,this.entity=void 0,this.url=i.modeluri,this.time=i.time,this.start=void 0,this.stop=void 0,this.Lines=i.Lines,this.isPathShow=i.isPathShow,this.click=i.click,this.callback=i.callback,this.property=this.ComputeRoamingLineProperty(i.Lines,i.time,i.start),this.InitRoaming(this.property,this.start,this.stop,this.isPathShow)}return Object(o["a"])(e,[{key:"ComputeRoamingLineProperty",value:function(e,t){var i=new a.SampledPositionProperty,n=e.length,o=t-t%n,r=o/n,l=a.JulianDate.now();this.start=l;var s=a.JulianDate.addSeconds(l,o,new a.JulianDate);this.stop=s,this.viewer.clock.startTime=l.clone(),this.viewer.clock.stopTime=s.clone(),this.viewer.clock.currentTime=l.clone(),this.viewer.clock.clockRange=a.ClockRange.LOOP_STOP,this.viewer.clock.multiplier=10;for(var c=0;c<n;c++){var u=a.JulianDate.addSeconds(l,c*r,new a.JulianDate),h=a.Cartesian3.fromDegrees(e[c].lng,e[c].lat,e[c].height);i.addSample(u,h)}return i}},{key:"InitRoaming",value:function(e,t,i,n){this.entity=this.viewer.entities.add({availability:new a.TimeIntervalCollection([new a.TimeInterval({start:t,stop:i})]),position:e,orientation:new a.VelocityOrientationProperty(e),click:!0,callback:this.callback,model:{uri:this.url,minimumPixelSize:64,maximumSize:128,maximumScale:200,show:!0,heightReference:a.HeightReference.CLAMP_TO_GROUND,silhouetteColor:a.Color.WHITE,debugWireframe:!1,debugShowBoundingVolume:!1,scale:20,runAnimations:!0},path:{resolution:1,material:new a.PolylineGlowMaterialProperty({glowPower:.1,color:a.Color.YELLOW}),width:10,show:n}}),this.entity.position.setInterpolationOptions({interpolationDegree:5,interpolationAlgorithm:a.LagrangePolynomialApproximation})}},{key:"PauseOrContinue",value:function(e){this.viewer.clock.shouldAnimate=e}},{key:"ChangeRoamingSpeed",value:function(e){this.viewer.clock.multiplier=e}},{key:"EndRoaming",value:function(){void 0!==this.entity&&(this.viewer.clock.multiplier=1,this.viewer.clock.shouldAnimate=!0,this.viewer.entities.remove(this.entity))}}]),e}()},bee2:function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}i.d(t,"a",(function(){return o}))},d4ec:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return n}))}}]);